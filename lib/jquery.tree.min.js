(function(){var t;t=function(t,e,n){var i,r,l;if(t==null){t=jQuery}l="tree";r={content:".content",list:".list"};i=function(){function n(e,n){this.element=e;this._name=l;this.settings=t.extend({},r,n);this._defaults=r;this.init()}n.prototype.isOnScreen=function(){var n;n=t(e);return console.log(n.scrollTop())};n.prototype.headerDepth=function(t){return parseInt(t.nodeName.slice(-1))};n.prototype.topHeaderLevel=function(t){var e,n;for(e=n=1;n<=6;e=++n){if(t.find("h"+e).length>0){return e}}return null};n.prototype.init=function(){var n,i,r,l,a,o=this;n=t(this.settings.content);l=t(this.settings.list);i=n.find(":header");a=function(e){var n,i,r,l,s;s=o.topHeaderLevel(e);if(s==null){return null}i=t("<ul/>");l=e.find("h"+s);n=e.find(":first-child");if(!n.is(l)){r=n.nextUntil(l).addBack().clone().wrapAll("<div/>").parent();r=r.wrapAll("<div/>");i.append(a(r))}l.each(function(){var e,n,r,o;n=t(this);o=t("<a/>").html(n.html());r=t("<li/>").append(o);i.append(r);e=n.nextUntil(l).clone().wrapAll("<div/>").parent();return i.append(a(e))});return i};r=a(n);l.append(r);t("li:first").addClass("active");this.isOnScreen;return t(e).scroll(function(){return t.each(i,function(n,i){var r,l,a;r=t(i);a=r.offset().top-t(e).scrollTop();if(a<100){t(".active").removeClass("active");r.addClass("active");l=t("li");return t(l.get(n)).addClass("active")}})})};return n}();return t.fn[l]=function(e){return this.each(function(){if(!t.data(this,"plugin_"+l)){return t.data(this,"plugin_"+l,new i(this,e))}})}};(function(t,e,n){if(typeof define==="function"&&define.amd){return define(["jquery"],t)}else if(typeof exports==="object"){return t(require("jquery"))}else{return t(jQuery,e,n)}})(t,window,document)}).call(this);